async function toggleLike(e,i){try{const t=await fetch("/api/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:i})});if(401===t.status)return alert("Silakan Login terlebih dahulu untuk me-like post!"),void(window.location.href="/login");const o=await t.json();if(o.success){document.getElementById(`likes-count-${i}`).innerText=`${o.likes} Likes`,o.isLiked?e.classList.add("like-active"):e.classList.remove("like-active")}}catch(e){console.error("Error liking post:",e)}}