const fileInput=document.getElementById("imageInput"),previewArea=document.getElementById("previewArea"),imgPreview=document.getElementById("imagePreview"),placeholder=document.getElementById("placeholderText"),submitBtn=document.getElementById("submitBtn"),form=document.getElementById("uploadForm"),captionInput=document.getElementById("captionInput");function checkValidity(){fileInput.files.length>0&&captionInput.value.trim().length>0?(submitBtn.disabled=!1,submitBtn.style.opacity=1):(submitBtn.disabled=!0,submitBtn.style.opacity=.5)}previewArea.addEventListener("click",(()=>fileInput.click())),fileInput.addEventListener("change",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{imgPreview.src=e.target.result,imgPreview.classList.remove("hidden"),placeholder.classList.add("hidden"),checkValidity()},e.readAsDataURL(t)}})),captionInput.addEventListener("input",checkValidity),submitBtn.addEventListener("click",(()=>{form.submit()}));